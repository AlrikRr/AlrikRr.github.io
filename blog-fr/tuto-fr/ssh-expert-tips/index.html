<!DOCTYPE HTML>

<html>
    <head>
        <script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "\/"
        },
        "articleSection" : "blog-fr",
        "name" : "Ma√Ætrisez SSH comme jamais !",
        "headline" : "Ma√Ætrisez SSH comme jamais !",
        "description" : "Astuces pour vous faliciter la vie avec SSH !",
        "inLanguage" : "en",
        "author" : "",
        "creator" : "",
        "publisher": "",
        "accountablePerson" : "",
        "copyrightHolder" : "",
        "copyrightYear" : "2020",
        "datePublished": "2020-06-23 00:00:00 \x2b0000 UTC",
        "dateModified" : "2020-06-23 00:00:00 \x2b0000 UTC",
        "url" : "\/blog-fr\/tuto-fr\/ssh-expert-tips\/",
        "wordCount" : "1274",
        "keywords" : [ "Blog" ]
    }
    </script>
        
            
                <title>Ma√Ætrisez SSH comme jamais !</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.68.3" />
        


        
            <meta name="author" content="AlrikRr">
        
        
            <meta name="description" content="Astuces pour vous faliciter la vie avec SSH !">
        

        <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Ma√Ætrisez SSH comme jamais !"/>
<meta name="twitter:description" content="Astuces pour vous faliciter la vie avec SSH !"/>
<meta name="twitter:site" content="@AlrikRr"/>

        <meta property="og:title" content="Ma√Ætrisez SSH comme jamais !" />
<meta property="og:description" content="Astuces pour vous faliciter la vie avec SSH !" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/blog-fr/tuto-fr/ssh-expert-tips/" />
<meta property="article:published_time" content="2020-06-23T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-06-23T00:00:00+00:00" />

        <meta property="og:image" content="//images/logo.png">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:width" content="512">
        <meta property="og:image:height" content="512">
        <meta itemprop="name" content="Ma√Ætrisez SSH comme jamais !">
<meta itemprop="description" content="Astuces pour vous faliciter la vie avec SSH !">
<meta itemprop="datePublished" content="2020-06-23T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-06-23T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1274">



<meta itemprop="keywords" content="" />
        

        
            
        

        
        
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
            <link rel="stylesheet" href="/css/main.css">
            <link rel="stylesheet" href="/css/add-on.css">
            <link rel="stylesheet" href="/css/academicons.min.css">
	    <link disabled id="dark-mode-theme" rel="stylesheet" href="/css/dark.css">
        

        
            
                
            
        


  
    
    <link href='//cdn.bootcss.com/highlight.js/9.11.0/styles/github.min.css' rel='stylesheet' type='text/css' />
  


      
    </head>
    <body>

      
      <div id="wrapper">

    
    
<header id="header">
    
      <h1><a href="/">blog-fr</a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/blog-fr/">
                            <i class="">&nbsp;</i>üá´üá∑ Blog
                    </a>
                </li>
            
                <li>
                    <a href="/blog-en/">
                            <i class="">&nbsp;</i>üá¨üáß Blog
                    </a>
                </li>
            
                <li>
                    <a href="/projects/">
                            <i class="fa fa-list">&nbsp;</i>Projects
                    </a>
                </li>
            
                <li>
                    <a href="/categories/">
                            <i class="fa fa-folder">&nbsp;</i>Categories
                    </a>
                </li>
            
                <li>
                    <a href="/about/">
                            <i class="">&nbsp;</i>üë∫ My resume
                    </a>
                </li>
            
                <li>
                    <a href="https://www.levulgarisateurnumerique.com/">
                            <i class="">&nbsp;</i>ü¶ä LeVulgaNum ‚á¢
                    </a>
                </li>
            
                <li>
                    <a href="https://secforall.org/">
                            <i class="">&nbsp;</i>üïµÔ∏è SecForAll ‚á¢
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li>
	 <a id="dark-mode-toggle" class="fal fa-moon-o">Dark Mode</a>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>

	<script>
var toggle = document.getElementById("dark-mode-toggle");
var darkTheme = document.getElementById("dark-mode-theme");
var savedTheme = localStorage.getItem("dark-mode-storage") || "light";
setTheme(savedTheme);

toggle.addEventListener("click", () => {
    if (toggle.className === "fal fa-moon-o") {
        setTheme("dark");
    } else if (toggle.className === "fal fa-sun-o") {
        setTheme("light");
    }
});

function setTheme(mode) {
	    localStorage.setItem("dark-mode-storage", mode);
    if (mode === "dark") {
        darkTheme.disabled = false;
        toggle.className = "fal fa-sun-o";
    } else if (mode === "light") {
        darkTheme.disabled = true;
        toggle.className = "fal fa-moon-o";
    }
}
	</script>

</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="as_sitesearch" value="/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/blog-fr/">
                            <h3>
                                <i class="">&nbsp;</i>üá´üá∑ Blog
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/blog-en/">
                            <h3>
                                <i class="">&nbsp;</i>üá¨üáß Blog
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/projects/">
                            <h3>
                                <i class="fa fa-list">&nbsp;</i>Projects
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories/">
                            <h3>
                                <i class="fa fa-folder">&nbsp;</i>Categories
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/about/">
                            <h3>
                                <i class="">&nbsp;</i>üë∫ My resume
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://www.levulgarisateurnumerique.com/">
                            <h3>
                                <i class="">&nbsp;</i>ü¶ä LeVulgaNum ‚á¢
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://secforall.org/">
                            <h3>
                                <i class="">&nbsp;</i>üïµÔ∏è SecForAll ‚á¢
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section class="recent-posts">
            <div class="mini-posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                

                
                    
                

                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog-fr/tuto-fr/cuckoo-installation/">Proc√©dure d&#39;installation cuckoo</a></h3>
                                
                                <time class="published" datetime=
                                    '2021-02-26'>
                                    February 26, 2021</time>
                            </header>
                            
    

    
        
        







  


        
        
        

        <a href="/blog-fr/tuto-fr/cuckoo-installation/" class="image featured">
            <img src="/img//tuto/cuckoo/cuckoo-fr.png" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog-en/vulnhub/y0usef/">üá¨üáß Vulnhub writeup : y0usef 1</a></h3>
                                
                                <time class="published" datetime=
                                    '2021-02-25'>
                                    February 25, 2021</time>
                            </header>
                            
    

    
        
        







  


        
        
        

        <a href="/blog-en/vulnhub/y0usef/" class="image featured">
            <img src="/img//vulnhub/banner.gif" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog-en/vulnhub/bellatrix/">üá¨üáß Vulnhub writeup : Bellatrix</a></h3>
                                
                                <time class="published" datetime=
                                    '2021-02-22'>
                                    February 22, 2021</time>
                            </header>
                            
    

    
        
        







  


        
        
        

        <a href="/blog-en/vulnhub/bellatrix/" class="image featured">
            <img src="/img//vulnhub/banner.gif" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog-fr/iot/p4wnp1-rubberducky/">üá´üá∑  #2 P4wnP1:ALOA RubberDucky</a></h3>
                                
                                <time class="published" datetime=
                                    '2020-11-18'>
                                    November 18, 2020</time>
                            </header>
                            
    

    
        
        







  


        
        
        

        <a href="/blog-fr/iot/p4wnp1-rubberducky/" class="image featured">
            <img src="/img//iot/P4-RubberDucky/P4wnP1-rubberducky-banner.png" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog-fr/iot/p4wnp1-installation/">üá´üá∑  #1 P4wnP1:ALOA Installation</a></h3>
                                
                                <time class="published" datetime=
                                    '2020-11-11'>
                                    November 11, 2020</time>
                            </header>
                            
    

    
        
        







  


        
        
        

        <a href="/blog-fr/iot/p4wnp1-installation/" class="image featured">
            <img src="/img//iot/P4/P4wnP1-install-banner.png" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog-fr/binary/6-ret2libc/">üá´üá∑  Ret2libc avec protection NX</a></h3>
                                
                                <time class="published" datetime=
                                    '2020-09-18'>
                                    September 18, 2020</time>
                            </header>
                            
    

    
        
        







  


        
        
        

        <a href="/blog-fr/binary/6-ret2libc/" class="image featured">
            <img src="/img//binary/6-ret2lib-banner.png" alt="">
        </a>
    


                        </article>
                

                
                    <a href=
                        
                            /blog/
                        
                        class="button">View more posts</a>
                
            </div>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa fa-smile-o"></i></h3>
            </header>
            



<li>
  <a href="//twitter.com/share?url=%2fblog-fr%2ftuto-fr%2fssh-expert-tips%2f&amp;text=Ma%c3%aetrisez%20SSH%20comme%20jamais%20%21&amp;via=AlrikRr" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>










<li>
  <a href="//reddit.com/submit?url=%2fblog-fr%2ftuto-fr%2fssh-expert-tips%2f&amp;title=Ma%c3%aetrisez%20SSH%20comme%20jamais%20%21" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>




<li>
  <a href="//www.linkedin.com/shareArticle?url=%2fblog-fr%2ftuto-fr%2fssh-expert-tips%2f&amp;title=Ma%c3%aetrisez%20SSH%20comme%20jamais%20%21" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>











        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
  <header>
    <div class="title">
        
            <h1><a href="/blog-fr/tuto-fr/ssh-expert-tips/">Ma√Ætrisez SSH comme jamais !</a></h1>
            
        
        
            <p>Astuces pour vous faliciter la vie avec SSH !</p>
        
    </div>
    <div class="meta">
        

        <time class="published"
            datetime='2020-06-23'>
            June 23, 2020</time>
        <span class="author">AlrikRr</span>
        
            <p>6 minute read</p>
        
        
    </div>
</header>


  
    <section id="social-share">
      <ul class="icons">
        



<li>
  <a href="//twitter.com/share?url=%2fblog-fr%2ftuto-fr%2fssh-expert-tips%2f&amp;text=Ma%c3%aetrisez%20SSH%20comme%20jamais%20%21&amp;via=AlrikRr" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>










<li>
  <a href="//reddit.com/submit?url=%2fblog-fr%2ftuto-fr%2fssh-expert-tips%2f&amp;title=Ma%c3%aetrisez%20SSH%20comme%20jamais%20%21" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>




<li>
  <a href="//www.linkedin.com/shareArticle?url=%2fblog-fr%2ftuto-fr%2fssh-expert-tips%2f&amp;title=Ma%c3%aetrisez%20SSH%20comme%20jamais%20%21" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>











      </ul>
    </section>
  

  
    

    
        
        







  


        
        
        

        <a href="/blog-fr/tuto-fr/ssh-expert-tips/" class="image featured">
            <img src="/img//tuto/ssh/ssh-banner.png" alt="">
        </a>
    


  <div id="content">
    <h1 id="g√©n√©ration-de-cl√©s">G√©n√©ration de cl√©s</h1>
<pre><code class="language-bash/shell" data-lang="bash/shell"># G√©n√©rer vos cl√©s Publique et Priv√©e
~ Á´àÈñÄ¬ª shh-keygen -t &lt;algorithm&gt;
</code></pre><p><code>ed25519</code> est recommand√© mais certaines applications ne support pas cet alogithme,je vous conseil de cr√©er 2 cl√©s, une en <code>ed25519</code> et une en  <code>RSA</code>.</p>
<p>Les cl√©s que vous veneez de cr√©er ont pour r√©pertoire par d√©fault : <code>~/.ssh</code>
Il n&rsquo;est pas n√©cessaire de mettre une pass-pharse, si vous voulez en mettre une vous pouvez mais elle vous sera demand√©e √† chaque connexion.</p>
<pre><code class="language-bash/shell" data-lang="bash/shell">~ Á´àÈñÄ¬ª ls .ssh/   
id_ed25519  id_ed25519.pub  id_rsa  id_rsa.pub
</code></pre><p>Surtout, gardez bien vos cl√©s priv√©s secret ! Je vous conseil de les changer de r√©pertoire ainsi que les droits d&rsquo;acces :)</p>
<hr>
<h1 id="pubkeyauthentication">PubkeyAuthentication</h1>
<p>Comme nous avons vu juste avant la g√©√©nration de cl√©s, ici nous allons activer l&rsquo;option que va nous permettre de nous connecter sans mot de passe.
Pour cal, vous devez copier/coller vos cl√© priv√© dans le fichier <code>~/.ssh/autorized_keys</code> sur la machine dont vous voulez acc√©der.</p>
<pre><code class="language-bash/shell" data-lang="bash/shell"># La m√©thode simple, mais aussi la m√©thode officielle. 
~ Á´àÈñÄ¬ª ssh-copy-id -i ~/.ssh/id_rsa.pub &lt;user&gt;@&lt;IP&gt;

# La m√©thode Hardcore
~ Á´àÈñÄ¬ª cat ~/.ssh/id_rsa.pub | ssh &lt;user&gt;@&lt;IP&gt; &quot;cat - &gt;&gt; ~/.ssh/authorized_keys&quot;
# Apr√®s votre premi√®re connexion, le mot de passe de l'utilisateur vous sera demand√© 
une derni√®re fois.
</code></pre><p>Cette optione st activ√© par d√©faut dans votre fichier <code>/etc/ssh/sshd_config</code> :</p>
<pre><code class="language-bash/shell" data-lang="bash/shell">#PubkeyAuthentication yes
</code></pre><h2 id="astuces-de-s√©curit√©">Astuces de s√©curit√©</h2>
<p>Il est recommand√© d&rsquo;utiliser une authentification par cl√© que par mot de passe pour plusieurs raisons. POur ce faire, vous devez modifier votre fichier de configuration <code>/etc/ssh/sshd_config</code> avec les param√®tre suivant :</p>
<pre><code class="language-bash/shell" data-lang="bash/shell"># D√©sactiver l'auth par mot de passe
PasswordAuthentication no
# D√©sactiver la connexion via le compte root 
PermitRootLogin no 
</code></pre><hr>
<h1 id="les-banni√®res">Les banni√®res</h1>
<p>Mettre des banni√®res est une bonne pratique en mati√®re de s√©curit√© informatique. Pour des raison l√©gales, un serveur qui affiche un gros &ldquo;WELCOME&rdquo; √† plus de chance d&rsquo;attirer l&rsquo;attention de personnes malveillantes (apr√®s certains peuventy voir un honeypot mais c&rsquo;est un autre sujet), en revanche, mettre un message d&rsquo;avertissement avec quelques notion juridique ou de poursuite p√©nale peuvent quand m√™me faire peur √† certains.
Biensur, cela ne vous prot√®gera pas √† 100% mais √ßa reste une bonne chose √† mettre en place.
De plus, certaines banni√®re comme vous allez le voir, ont une autre utilit√©, plus pratique :)</p>
<p>Il y a deux type de banni√®res</p>
<h2 id="avant-connexion--issuenet">Avant-connexion : issue.net</h2>
<p>Cette banni√®re se trouve dans  <code>/etc/issue</code> ou <code>/etc/issue.net</code>.
La banni√®re d&rsquo;avant connexion doit √™tre activ√©e dans le fichier de configuration ssh.</p>
<pre><code class="language-bash/shell" data-lang="bash/shell">Banner /etc/issue.net
</code></pre><p>Tout ce que vous allez √©crire dans ce fichier sera affich√© √† tous les utilisateurs qui voudront se connecter √† votre machine en SSH.
C&rsquo;est le moment de vous l√¢cher et de sortir vos plus belles menaces !</p>
<p>Je vous place une exemple de ce que j&rsquo;utilise sur mes machines :</p>
<pre><code>#Banner issue.net exemple
    &lt;hostname&gt;
***************************************************************************
                            NOTICE TO USERS

This computer system is the private property of its owner, whether
individual, corporate or government.  It is for authorized use only.
Users (authorized or unauthorized) have no explicit or implicit
expectation of privacy.

Any or all uses of this system and all files on this system may be
intercepted, monitored, recorded, copied, audited, inspected, and
disclosed to your employer, to authorized site, government, and law
enforcement personnel, as well as authorized officials of government
agencies, both domestic and foreign.

By using this system, the user consents to such interception, monitoring,
recording, copying, auditing, inspection, and disclosure at the
discretion of such personnel or officials.  Unauthorized or improper use
of this system may result in civil and criminal penalties and
administrative or disciplinary action, as appropriate. By continuing to
use this system you indicate your awareness of and consent to these terms
and conditions of use. LOG OFF IMMEDIATELY if you do not agree to the
conditions stated in this warning.

****************************************************************************
</code></pre><h2 id="apr√®s-connexion--motd">Apr√®s-connexion : motd</h2>
<p>Cette banni√®re se trouve dans <code>/etc/motd</code>.
Si vous voulez placer un message apr√®s la connexion, c&rsquo;est ici que ca se passe.</p>
<p>Mais il est √©galement possible de faire executer des scripts bash pour afficher diverses information sur votre machine.
Pour faire √ßa, il faut placer votre script dans <code>/etc/update-motd.d/</code> attention √† ne pas ajouter d&rsquo;extension √† votre fichier.</p>
<p>Voici un exemple qui affiche :</p>
<ul>
<li>Hostname</li>
<li>Adresses IP priv√©e / Publique</li>
<li>Date</li>
<li>Info syst√®me</li>
<li>Info espace de stockage</li>
<li>Mes logs fail2ban</li>
<li>Mes logs SSH</li>
<li>Les mises √† jour en attentes</li>
</ul>
<pre><code class="language-bash/shell" data-lang="bash/shell">~ Á´àÈñÄ¬ª cat /etc/update-motd.d/system_print
#!/bin/sh
figlet &quot;Nezuko&quot;
hostname=$(hostname)
ippub=$(wget -qO- http://ipecho.net/plain | xargs echo)

date=$('date')
echo &quot;########################################################&quot;
echo &quot;Informations:&quot;
echo &quot;Hostname    = &quot;$hostname
echo &quot;IP Publique = &quot;$ippub
echo &quot;IP Priv√©e   = 192.168.1.96&quot;
echo &quot;Date        = &quot;$date
echo &quot;-------------------------------------&quot;
#version=$(uname -s -o)
version=$(uname -v)
uptime=$(uptime | cut -d' ' -f4,5)
kernel=$(uname -r -o)
user=$(who | wc -l)
echo &quot;Syst√®me:&quot;
echo &quot;-Version OS = &quot;$version
echo &quot;-Uptime = &quot;$uptime
echo &quot;-Kernel = &quot;$kernel
echo &quot;-Utilisateurs = &quot;$user&quot; connect√©(s)&quot;
echo &quot;-------------------------------------&quot;
memused=$(free -m | grep 'Mem' | cut -c 28-32)
memtotal=$(free -m | grep 'Mem' | cut -c 15-20)
memfree=$(free -m | grep 'Mem' | cut -c 40-45)
echo &quot;M√©moire:&quot;
echo &quot;-Utilisation m√©moire   =&quot;$memused&quot;Mb sur &quot;$memtotal&quot;Mb soit &quot;$memfree&quot;Mb de libre.&quot;
echo &quot;-------------------------------------&quot;
use_swap=$(free -m | grep 'Swap' | cut -c 28-32)
use_root=$(df -h | grep -w / | awk '{print $5}')
use_home=$(df -h | grep -w /home | awk '{print $5}')
use_var=$(df -h | grep -w /var | awk '{print $5}')
use_tmp=$(df -h | grep -w /tmp | awk '{print $5}')
echo &quot;Disques:&quot;
echo &quot;-Utilisation du swap        = &quot;$use_swap&quot;Mb&quot;
echo &quot;-Utilisation du /           = &quot;$use_root&quot;&quot;
echo &quot;-Utilisation de /home       = &quot;$use_home&quot;&quot;
echo &quot;-Utilisation de /tmp        = &quot;$use_tmp&quot;&quot;
echo &quot;--------------------------------------&quot;
echo &quot;Fail2Ban:&quot;
check=$(cat /home/sanji/file/banip.txt)
echo $check
echo &quot;======================================&quot;
echo &quot;SSH logs:&quot;
sudo cat /var/log/auth.log | grep &quot;ssh&quot; | tail -n 5
echo &quot;======================================&quot;
echo &quot;Mise √† jour en attente :&quot;
echo &quot; &quot; $(apt list --upgradeable | sed 1d | cut -d'/' -f1)
echo &quot;=====================================&quot;
</code></pre><p><img src="/img/tuto/ssh/motd_1.png" alt="motd-update.png"></p>
<hr>
<h1 id="fichier-config">Fichier config</h1>
<p>Le fichier <code>config</code> est une alternative pour vos connexion ssh qui va vous changer la vie !<br>
Sa configuration est tr√®s simple, le fichier doit √™tre cr√©er dans <code>~/.ssh/config</code>.</p>
<p>Voici un exemple de syntaxe :</p>
<pre><code class="language-bash/shell" data-lang="bash/shell">~ Á´àÈñÄ¬ª cat ~/.ssh/config 
Host senjuro
        hostname 192.168.1.90
        user root
        port 22

Host senjuro_d
        hostname 192.168.1.90
        user root
        port 4748
</code></pre><p>Tout ce que vous avez √† faire, c&rsquo;est de vous connecter simplement en utilisant le hostanme d&rsquo;une machine par exemple :</p>
<pre><code class="language-bash/shell" data-lang="bash/shell">~ Á´àÈñÄ¬ª ssh senjuro
</code></pre><p>Ajoutez √† cela une connexion par cl√© publique, vous allez gagner beaucoup de temps !</p>
<hr>
<h1 id="reverse-ssh-tunneling">Reverse SSH Tunneling</h1>
<p>Ce tutoriel utilise une vun√©rabilit√© ssh qui va vous permettre d&rsquo;acc√©der √† une machine qui n&rsquo;est pas acc√©ssible normalement.<br>
Imaginez que votre machine @secure soit derri√®re un firewall qui n&rsquo;accepte aucune entr√©e SSH et qui en plus n&rsquo;a aucun port ouvert sur son ip publique pour y acc√©der sur l&rsquo;exterieur, mais cette machine peut acc√©der en SSH √† la machine @hack.<br>
Eh bien il est possible √† la machine @hack de se connecter en SSH √† la machine @secure.</p>
<p>La m√©thode est simple, il faut utiliser un tunnel SSH.<br>
La machine @secure va initialiser un tunnel SSH sur un port donn√© et son adresse locale 127.0.0.1 en se connectant √† @hack.<br>
De son cot√© @hack aura juste √† lancer une connexion SSH sur le port utilis√© par @hack sur l&rsquo;adresse 127.0.0.1</p>
<p>Avant toute chose, il faut activer les options suivante sur la machine qui va acc√©der au tunnel, ici @hack :</p>
<pre><code class="language-bash/shell" data-lang="bash/shell">root@hack $ sed -i &quot;s/#AllowTcpForwrading yes/AllowTcpForwarding yes&quot; /etc/ssh/sshd_config
root@hack $ sed -i &quot;s/#GatewayPorts no/GatewayPorts yes/&quot; /etc/ssh/sshd_config
</code></pre><p>Maintenant, vous pouvez lancer votre tunnel.</p>
<pre><code class="language-bash/shell" data-lang="bash/shell">~ Á´àÈñÄ¬ª cat ~/.ssh/config
host hack
        hostname 82.64.30.30
        user root
        port 7222
# Commande √† lancer depuis @secure
~ Á´àÈñÄ¬ª ssh -NR 20013:localhost:22 hack

# Commande √† lancer depuis @hack
root@hack $ ssh -p 20013 root@127.0.0.1
</code></pre><p>Pour terminer la connexion, il vous suffit de fermer votre terminal.</p>

  </div>

  <footer>
    <ul class="stats">
  <li class="categories">
    <ul>
        
            
            
                <i class="fa fa-folder"></i>
                
                
                <li><a class="article-category-link" href="/categories/fr-tuto">fr-tuto</a></li>
                
            
        
    </ul>
  </li>
  <li class="tags">
    <ul>
        
    </ul>
  </li>
</ul>

  </footer>

</article>


<ul class="actions pagination">
    
        <li><a href="/blog-fr/tuto-fr/dropbear-initramfs/"
                class="button big previous">Installation de Dropbear-initramfs</a></li>
    

    
        <li><a href="/blog-fr/tuto-fr/macos-sur-linux-kvm/"
                class="button big next">Installation de MacOS sur Linux avec KVM</a></li>
    
</ul>


    </div>
    
<section id="sidebar">

  
  <section id="intro">
    
    
      
        <a href='/'><img src="/img/main/logo.jpg" class="intro-circle" width="250" alt="AlrikRr" /></a>
      
    
    
      <header>
        <h2>Hello, friend.</h2>
        <p>The greatest enemy of knowledge is not ignorance, it is the illusion of knowledge.</p>
      </header>
    
    
      <ul class="icons">
        
          
    <li><a href="/index.xml" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a></li>


        
        
  <li><a href="//github.com/AlrikRr" target="_blank" title="GitHub" class="fa fa-github"></a></li>

























  <li><a href="//linkedin.com/in/adrien-lasalle" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>















  <li><a href="//reddit.com/user/AlrikRr" target="_blank" title="Reddit" class="fa fa-reddit"></a></li>





  <li><a href="//youtube.com/https://www.youtube.com/channel/UCnfAzfzPenSKIRLUCtKA4VA" target="_blank" title="YouTube" class="fa fa-youtube"></a></li>

















  <li><a href="//twitter.com/AlrikRr" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>




















      </ul>
    
  </section>

  
  <section class="recent-posts">
    <div class="mini-posts">
      <header>
        <h3>Recent Posts</h3>
      </header>
      <div class="posts-container">
        

        
          
        

        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog-fr/tuto-fr/cuckoo-installation/">Proc√©dure d&#39;installation cuckoo</a>
              </h3>
              
              <time class="published" datetime='2021-02-26'>
                February 26, 2021
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="/blog-fr/tuto-fr/cuckoo-installation/" class="image featured">
            <img src="/img//tuto/cuckoo/cuckoo-fr.png" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog-en/vulnhub/y0usef/">üá¨üáß Vulnhub writeup : y0usef 1</a>
              </h3>
              
              <time class="published" datetime='2021-02-25'>
                February 25, 2021
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="/blog-en/vulnhub/y0usef/" class="image featured">
            <img src="/img//vulnhub/banner.gif" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog-en/vulnhub/bellatrix/">üá¨üáß Vulnhub writeup : Bellatrix</a>
              </h3>
              
              <time class="published" datetime='2021-02-22'>
                February 22, 2021
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="/blog-en/vulnhub/bellatrix/" class="image featured">
            <img src="/img//vulnhub/banner.gif" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog-fr/iot/p4wnp1-rubberducky/">üá´üá∑  #2 P4wnP1:ALOA RubberDucky</a>
              </h3>
              
              <time class="published" datetime='2020-11-18'>
                November 18, 2020
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="/blog-fr/iot/p4wnp1-rubberducky/" class="image featured">
            <img src="/img//iot/P4-RubberDucky/P4wnP1-rubberducky-banner.png" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog-fr/iot/p4wnp1-installation/">üá´üá∑  #1 P4wnP1:ALOA Installation</a>
              </h3>
              
              <time class="published" datetime='2020-11-11'>
                November 11, 2020
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="/blog-fr/iot/p4wnp1-installation/" class="image featured">
            <img src="/img//iot/P4/P4wnP1-install-banner.png" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog-fr/binary/6-ret2libc/">üá´üá∑  Ret2libc avec protection NX</a>
              </h3>
              
              <time class="published" datetime='2020-09-18'>
                September 18, 2020
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="/blog-fr/binary/6-ret2libc/" class="image featured">
            <img src="/img//binary/6-ret2lib-banner.png" alt="">
        </a>
    


          </article>
        
      </div>

      
        <a href=
          
            /blog/
          
        class="button">View more posts</a>
      
    </div>
  </section>

  
  
  
  
  
    <section id="categories">
      <header>
        <h3>
          <a href="/categories/">Categories</a>
        </h3>
      </header>
        
          
        

        
        <p>
          <article>
            <header>
              
                <a href="/categories/fr-tuto/">fr-tuto</a>
                <span style="float:right;">7</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/hackthebox/">hackthebox</a>
                <span style="float:right;">6</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/projects/">projects</a>
                <span style="float:right;">5</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/en-nixos/">en-nixos</a>
                <span style="float:right;">4</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/fr-nixos/">fr-nixos</a>
                <span style="float:right;">4</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/exploitation-binaire/">exploitation-binaire</a>
                <span style="float:right;">3</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/iot/">iot</a>
                <span style="float:right;">3</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/machine-learning/">machine-learning</a>
                <span style="float:right;">3</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/archlinux/">archlinux</a>
                <span style="float:right;">2</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/hacking/">hacking</a>
                <span style="float:right;">2</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/vulnhub/">vulnhub</a>
                <span style="float:right;">2</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/android/">android</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/project/">project</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/raspberry/">raspberry</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/s%C3%A9curit%C3%A9/">s√©curit√©</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
    </section>
  
  

  
  

  
  <section id="footer">
    
      <ul class="icons">
        
          
    <li><a href="/index.xml" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a></li>


        
        
  <li><a href="//github.com/AlrikRr" target="_blank" title="GitHub" class="fa fa-github"></a></li>

























  <li><a href="//linkedin.com/in/adrien-lasalle" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>















  <li><a href="//reddit.com/user/AlrikRr" target="_blank" title="Reddit" class="fa fa-reddit"></a></li>





  <li><a href="//youtube.com/https://www.youtube.com/channel/UCnfAzfzPenSKIRLUCtKA4VA" target="_blank" title="YouTube" class="fa fa-youtube"></a></li>

















  <li><a href="//twitter.com/AlrikRr" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>




















      </ul>
    
    <p class="copyright">
      
        &copy; 2021
        
          AlrikRr-Blog
        
      .
      Powered by <a href="//gohugo.io" target="_blank">Hugo</a>
    </p>
  </section>
</section>

    </div>
    <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
    

    
      
    

    
      
      
      
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/highlight.min.js"></script>
        
        
        
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/r.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/yaml.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/css.min.js"></script>
        <script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>
      
    
    
    
      <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script>
      <script src="/js/util.js"></script>
      <script src="/js/main.js"></script>
      <script src="/js/backToTop.js"></script>
    

    
      
        
      
    

    
    <script>hljs.initHighlightingOnLoad();</script>
      <script src="//yihui.name/js/math-code.js"></script>
<script async
src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


  </body>
</html>

